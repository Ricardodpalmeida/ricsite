---
/**
 * About Page - Portuguese
 * 
 * Displays detailed personal and professional information using the Profile component.
 */
import MainLayout from '../../layouts/MainLayout.astro';
import Profile from '../../components/Profile.jsx';
import PageHeader from '../../components/PageHeader.astro';
import { getCollection } from 'astro:content';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

// Get current language and translations
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Get profile data from content collection
const profileData = await getCollection('profile');
const profileInfo = profileData.length > 0 ? profileData[0].data : null;
---

<MainLayout 
  title="Sobre | Ricardo Almeida" 
  description="ConheÃ§a mais sobre Ricardo Almeida, Manager de Data & IA na PwC Portugal e Cloud Solution Architect."
  currentLanguage={lang}
>
  <main class="about-container">
    <PageHeader profileData={profileInfo} currentLanguage={lang}>
      {Array.isArray(profileInfo?.about?.pt) && 
        profileInfo?.about?.pt.map((paragraph: string) => (
          <p>{paragraph}</p>
        ))
      }
    </PageHeader>
    <Profile client:load profileData={profileInfo} currentLanguage={lang} hideHeader={true} />
  </main>
</MainLayout>

<style>
  .about-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem 0;
    min-height: calc(100vh - 150px);
    animation: fadeIn 0.5s ease-out;
  }
  
  @media (max-width: 768px) {
    .about-container {
      padding: 4rem 1.5rem;
    }
  }
  
  @media (max-width: 480px) {
    .about-container {
      padding: 4rem 1.25rem;
    }
  }

  :global(.profile-section.no-title) {
    margin-top: 0;
  }

  :global(.profile-about-container) {
    text-align: center;
  }
</style> 