# Prevent access to content directories
<IfModule mod_rewrite.c>
  RewriteEngine On
  
  # Prevent direct access to content files
  RewriteRule ^content/.*$ - [F,L]
  RewriteRule ^src/content/.*$ - [F,L]
  RewriteRule ^profile/.*$ - [F,L]
  RewriteRule ^data\.json$ - [F,L]
  RewriteRule ^profile-data\.json$ - [F,L]
  
  # If a requested file or directory doesn't exist, serve the 404 page
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /404 [L,R=302]
</IfModule>

# Prevent directory listing
Options -Indexes

# Protect specific file types
<FilesMatch "\.(json|md|mdx)$">
  <IfModule mod_authz_core.c>
    Require all denied
  </IfModule>
  <IfModule !mod_authz_core.c>
    Order deny,allow
    Deny from all
  </IfModule>
</FilesMatch>

# Allow specific paths
<FilesMatch "^(index\.html|about\.html|blog\.html)$">
  <IfModule mod_authz_core.c>
    Require all granted
  </IfModule>
  <IfModule !mod_authz_core.c>
    Order allow,deny
    Allow from all
  </IfModule>
</FilesMatch> 